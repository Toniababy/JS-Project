<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <!-- <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://flowbite.com/docs/flowbite.min.js"></script> -->
    <script src="https://kit.fontawesome.com/6c14a872c1.js" ></script>
   
</head>
<body>
    <section id="header">
        <a href="#"><img src="./image/logo.PNG" id="logo" alt=""></a>

        <div>
            <ul id="navbar">
                <li><a href="./index.html">Home</a></li>
                <li><a class="active"  href="./shop.html">Shop</a></li>
                <li><a href="./about.html">About</a></li>
                <li><a href="./contact.html">Contact</a></li>
                <li><a id="signInOption" href="./signin.html">Sign In</a></li>
                <a href="#" id="close"><i class="fa fa-times"></i></a>
                <li><a id="signOutOption" style="display: none;" href="#">Log Out</a></li>
            </ul>
            <a class="cart-icon" href="./shop.html"><i class="fa-solid fa-cart-shopping" style="color: #088178;" id="lg-black"></i><div id="cartAmount">0</div></a>
        </div>
        <div id="mobile">
            <!-- <a><i class="fa-solid fa-cart-shopping" style="color: #088178" id="lg-black"></i><div id="cartAmount">0</div></a> -->
            <i id="bar" class="fa-solid fa-bars"></i>
        </div>
    </section>

    <section id="page-header" class="shop-header">
        <h2>Discover Your Perfect Look</h2>
        <p>Explore our exclusive collection for your beauty essentials</p>
        <!-- <button>Shop Now</button> -->
    </section>

    <div>
        <h2 style="text-align: center; padding-top: 10px;">Welcome <span id="userName"></span></h2>
    </div>

    <section id="container" class="section-p1 next1">
        <div id="pro-container" >
 
        </div>
        <div class="sidebar">
            <div class="head"><p>My Cart</p></div>
            <div id="cartItem">Your Cart is empty</div>
            <div class="foot">
                <h3>Total</h3>
                <h3 id="totalPrice">â‚¦0.00</h3>
            </div>
        </div>
    </section>


    


    

<footer class="section-p1" >
    <div class="col">
        <img class="logo" src="./image/logo.png" alt="">
        <h4 style="font-size: 27px;">Contact</h4>
        <p style="font-size: 17px;"><Strong>Address:</Strong> 123 Street, New York, USA</p>
        <p style="font-size: 17px;"><strong>Phone</strong> +123 456 7890</p>
        <p style="font-size: 17px;"><strong>Hours:</strong> 10:00 - 18:00, Mon - Sat</p>
        <div class="follow">
            <h4 style="font-size: 20px;">Follow us</h4>
            <div class="icon">
                <i class="fa-brands fa-facebook-f"></i>
                <i class="fa-brands fa-twitter"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-youtube"></i>
            </div>
        </div>
    </div>
        
        

    <div class="col">
        <h4 style="font-size: 25px;">About</h4>
        <a href="#">About us</a>
        <a href="#">Delivery Information</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
        <a href="#">Contact us</a>
    </div>

    <div class="col">
        <h4 style="font-size: 25px;">My Account</h4>
        <a href="#">Sign In</a>
        <a href="#">View Cart</a>
        <a href="#">My Wishlist</a>
        <a href="#">Track My Order</a>
        <a href="#">Help</a>
    </div>

    <div class="col book">
        <h4 style="font-size: 25px;">Book Service</h4>
        <p>Contact Us to learn more about our service appiontment</p>
        <div>
            <img src="./image/booking.png" alt="">
        </div>
                
    </div>

    
    
    <div class="copyright">
        <p id="copyrigt">
    
        </p>
    </div>
</footer>


<script type="module" src="./function.js"></script>
<script src="./script.js" type="module"></script>

</body>
  <script type="module">
    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";
      import { auth, db, userRef } from "../script.js";
      import { signOut } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";
      import {
        getDoc,
        query,
        where,
        getDocs,
      } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

      onAuthStateChanged(auth, async (user) => {
        if (user?.uid) {
          

          await getUserDocumentFromFireStoreUsingTheIdArgumentSent(user.uid);
        } else {
          window.location.replace("./login.html");
        }
      });

      async function getUserDocumentFromFireStoreUsingTheIdArgumentSent(id) {
        // console.log(id, "this is meee ohhh");

        const userQuery = await query(userRef, where("uid", "==", id));
        const querySnapshot = await getDocs(userQuery);

        if (!querySnapshot.empty) {
          querySnapshot.forEach((doc) => {
            const user = doc.data();
            document.getElementById("userName").innerHTML = user.username;
          
          });
        }

        try {
        } catch (error) {
          console.log(error);
        }
      }
    </script>
</html>