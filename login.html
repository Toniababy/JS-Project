<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://flowbite.com/docs/flowbite.min.js"></script>
    <script src="https://kit.fontawesome.com/6c14a872c1.js" ></script>
    <!-- <script type="module" src="./function.js"></script> -->
</head>
<body>
    <section id="header">
        <a href="#"><img src="./image/logo.PNG" id="logo" alt=""></a>

        <div>
            <ul id="navbar">
                <li><a href="./index.html">Home</a></li>
                <li><a href="./shop.html">Shop</a></li>
                <li><a href="./about.html">About</a></li>
                <li><a href="./contact.html">Contact</a></li>
                <li><a id="signInOption" href="./signin.html">Sign In</a></li>
                
                <a href="#" id="close"><i class="fa fa-times"></i></a>
                <li><a  class="active" id="signOutOption" href="#">Log Out</a></li>
            </ul>
            <a class="icon-cart" href="./shop.html"><i class="fa-solid fa-cart-shopping" style="color: #088178;"></i></a>
        </div>
        <div id="mobile">
            <a href="./shop.html"><i class="fa-solid fa-cart-shopping" style="color: #088178;"></i></a>
            <i id="bar" class="fa-solid fa-bars"></i>
        </div>
    </section>


    <section id="page-header" class="contact-header">
        <h2>Let Us Talk</h2>
        <p>Eye belifs would like to get to know you</p>
    
    </section>
    <section>
        <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0">
            
            <div class="w-full bg-[#CFD0D4] rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-[#CFD0D4] dark:border-gray-100">
                <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
                    <h1 class="text-xl font-bold leading-tight tracking-tight text-[#333333] md:text-2xl dark:text-black">
                        Log in to your account
                    </h1>
                    <form class="space-y-4 md:space-y-6" id="form">
                        <div>
                            <label for="email" class="block mb-2 text-sm font-medium text-[#333333] dark:text-[#333333]">Your email</label>
                            <input type="email" name="email" id="email" class="border border-[#05645e] text-[#333333] text-sm rounded-lg focus:ring-[#05645e] focus:border-[#05645e] block w-full p-2.5 outline-[#05645e] dark:border-[#05645e] dark:placeholder-gray-400 dark:text-[#333333] dark:focus:ring-[#05645e] dark:focus:border-[#05645e]" placeholder="name@company.com">
                        </div>
                        <div>
                            <label for="password" class="block mb-2 text-sm font-medium text-[#333333] dark:text-[#333333]">Password</label>
                            <input type="password" name="password" id="password" placeholder="••••••••" class="border border-[#05645e] text-[#333333] text-sm rounded-lg focus:ring-[#05645e] focus:border-[#05645e] block w-full p-2.5 outline-[#05645e] dark:border-[#05645e] dark:placeholder-gray-400 dark:text-[#333333] dark:focus:ring-[#05645e] dark:focus:border-[#05645e]">
                        </div>
                        
                       
                        <button type="submit" id="loginBtn" class="w-full text-white bg-[#088178] hover:bg-[#05645e] focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Login to account</button>
                        <p class="text-sm font-light text-[#333333] dark:text-[#333333]">
                            Don’t have an account yet? <a href="./signin.html" class="font-medium text-[#333333] text-[#088178] hover:text-[#05645e] dark:text-primary-500 dark:hover:text-primary-600 hover:underline dark:text-[#333333]">Sign in here</a>
                            
                        </p>
                        <p class="text-red-500 font-bold mt-3" id="errorMessage"></p>
                    </form>
                </div>
            </div>
        </div>
      </section>


<footer class="section-p1" >
    <div class="col">
        <img class="logo" src="./image/logo.png" alt="">
        <h4 style="font-size: 27px;">Contact</h4>
        <p style="font-size: 17px;"><Strong>Address:</Strong> 123 Street, New York, USA</p>
        <p style="font-size: 17px;"><strong>Phone</strong> +123 456 7890</p>
        <p style="font-size: 17px;"><strong>Hours:</strong> 10:00 - 18:00, Mon - Sat</p>
        <div class="follow">
            <h4 style="font-size: 20px;">Follow us</h4>
            <div class="icon">
                <i class="fa-brands fa-facebook-f"></i>
                <i class="fa-brands fa-twitter"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-youtube"></i>
            </div>
        </div>
    </div>
        
        

    <div class="col">
        <h4 style="font-size: 25px;">About</h4>
        <a href="#">About us</a>
        <a href="#">Delivery Information</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
        <a href="#">Contact us</a>
    </div>

    <div class="col">
        <h4 style="font-size: 25px;">My Account</h4>
        <a href="#">Sign In</a>
        <a href="#">View Cart</a>
        <a href="#">My Wishlist</a>
        <a href="#">Track My Order</a>
        <a href="#">Help</a>
    </div>

    <div class="col book">
        <h4 style="font-size: 25px;">Book Service</h4>
        <p>Contact Us to learn more about our service appiontment</p>
        <div>
            <img src="./image/booking.png" alt="">
        </div>
                
    </div>

    
    
    <div class="copyright">
        <p id="copyrigt">
    
        </p>
    </div>
</footer>
<script src="./script.js" type="module"></script>

</body>
    <script type="module">
        import { signInWithEmailAndPassword, onAuthStateChanged,} from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js"
    import { addDoc } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js"
    import { auth, userRef } from "../script.js"

    const form = document.getElementById("form");
    const loginBtn = document.getElementById("loginBtn");
    const errorMessage = document.getElementById("errorMessage");


    form.addEventListener("submit", async (e) => {
        e.preventDefault();
        loginBtn.innerHTML = "loading...";
        loginBtn.disabled = true;
        console.log("hello");
        try {
          const email = form.email.value;
          const password = form.password.value;

          const res = await signInWithEmailAndPassword(auth, email, password);

        //   alert("Log in successfully");
          window.location.replace("./shop.html");

          // console.log("User created successfully!");
        } catch (error) {
          console.log(error);
          errorMessage.innerHTML = error.message;
        } finally {
          loginBtn.innerHTML = "Log in";
          loginBtn.disabled = false;
        }

        if (signInOption && signOutOption) {
    onAuthStateChanged(auth, (user) => {
      if (user) {
        signInOption.style.display = "none"; // Hide "Sign In"
        // nav.classList.signInOption.remove('active');
        signOutOption.style.display = "block"; // Show "Sign Out"

        // Add sign-out functionality
        signOutOption.addEventListener("click", async () => {
          try {
            await signOut(auth);
            // alert("You have signed out successfully.");
            window.location.reload();
          } catch (error) {
            console.error("Error signing out:", error);
          }
        });
      } else {
        signInOption.style.display = "block"; // Show "Sign In"
        signOutOption.style.display = "none"; // Hide "Sign Out"
      }
    });
  } else {
    console.error("SignInOption or SignOutOption element not found in the DOM.");
  }

      });
      
    </script>
</html>